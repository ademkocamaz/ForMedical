/*! jquery.formset (v1.3.1) 2023-11-05 */
!function(h){h.fn.formset=function(e){function s(e){var n=h.trim(i.deleteCssClass).replace(/\s+/g,"."),l=h.trim(i.addCssClass).replace(/\s+/g,"."),a='<a class="'+i.deleteCssClass+'" href="javascript:void(0);">'+i.deleteText+"</a>";i.deleteContainerClass?e.find('[class*="'+i.deleteContainerClass+'"]').append(a):e.is("TR")?e.children(":last").append(a):e.is("UL")||e.is("OL")?e.append("<li>"+a+"</li>"):e.append(a),p()||e.find("a."+n).hide(),e.find("a."+n).click(function(){var e=h(this).parents("."+i.formCssClass),a=e.find('input:hidden[id $= "-DELETE"]'),t=e.siblings("a."+l+", ."+i.formCssClass+"-add"),s=a.length?(a.val("on"),e.hide(),h("."+i.formCssClass).not(":hidden")):(e.remove(),h("."+i.formCssClass).not(".formset-custom-template"));o.val(s.length);for(var r=0,d=s.length;r<d;r++)m(s.eq(r),r),a.length||s.eq(r).find(f).each(function(){C(h(this),i.prefix,r)});return p()||h("a."+n).each(function(){h(this).hide()}),t.is(":hidden")&&c()&&t.show(),i.removed&&i.removed(e),!1})}var a,t,r,i=h.extend({},h.fn.formset.defaults,e),d=i.extraClasses.join(" "),o=h("#id_"+i.prefix+"-TOTAL_FORMS"),n=h("#id_"+i.prefix+"-MAX_NUM_FORMS"),l=h("#id_"+i.prefix+"-MIN_NUM_FORMS"),f="input,select,textarea,label,div,td",e=h(this),m=function(e,a){i.extraClasses&&(e.removeClass(d),e.addClass(i.extraClasses[a%i.extraClasses.length]))},C=function(e,a,t){var s=new RegExp(a+"-(\\d+|__prefix__)-"),a=a+"-"+t+"-";e.attr("for")&&e.attr("for",e.attr("for").replace(s,a)),e.attr("id")&&e.attr("id",e.attr("id").replace(s,a)),e.attr("name")&&e.attr("name",e.attr("name").replace(s,a)),e.attr("data-target")&&e.attr("data-target",e.attr("data-target").replace(s,a))},c=function(){return 0==n.length||""==n.val()||0<n.val()-o.val()},p=function(){return 0==l.length||""==l.val()||0<o.val()-l.val()};return e.each(function(e){var a=h(this),t=a.find('input:checkbox[id $= "-DELETE"]');t.length&&(t.is(":checked")?(t.before('<input type="hidden" name="'+t.attr("name")+'" id="'+t.attr("id")+'" value="on" />'),a.hide()):t.before('<input type="hidden" name="'+t.attr("name")+'" id="'+t.attr("id")+'" />'),h('label[for="'+t.attr("id")+'"]').hide(),t.remove()),0<a.find(f).length&&(a.addClass(i.formCssClass),s(a),m(a,e))}),e.length&&(a=!c(),i.formTemplate?((t=i.formTemplate instanceof h?i.formTemplate:h(i.formTemplate)).removeAttr("id").addClass(i.formCssClass+" formset-custom-template"),t.find(f).each(function(){C(h(this),i.prefix,"__prefix__")}),s(t)):(i.hideLastAddForm&&h("."+i.formCssClass+":last").hide(),(t=h("."+i.formCssClass+":last").clone(!0).removeAttr("id")).find('input:hidden[id $= "-DELETE"]').remove(),t.find(f).not(i.keepFieldValues).each(function(){var e=h(this);e.is("input:checkbox")||e.is("input:radio")?e.attr("checked",!1):e.val("")})),i.formTemplate=t,t='<a class="'+i.addCssClass+'" href="javascript:void(0);">'+i.addText+"</a>",r=i.addContainerClass?((r=h('[class*="'+i.addContainerClass+'"')).append(t),r.find('[class="'+i.addCssClass+'"]')):e.is("TR")?(r=e.eq(0).children().length,r=h('<tr><td colspan="'+r+'">'+t+"</tr>").addClass(i.formCssClass+"-add"),e.parent().append(r),r.find("a")):(e.filter(":last").after(t),e.filter(":last").next()),a&&r.hide(),r.click(function(){var e=parseInt(o.val()),a=i.formTemplate.clone(!0).removeClass("formset-custom-template"),t=h(h(this).parents("tr."+i.formCssClass+"-add").get(0)||this),s=h.trim(i.deleteCssClass).replace(/\s+/g,".");return m(a,e),a.insertBefore(t).show(),a.find(f).each(function(){C(h(this),i.prefix,e)}),o.val(e+1),p()&&h("a."+s).each(function(){h(this).show()}),c()||t.hide(),i.added&&i.added(a),!1})),e},h.fn.formset.defaults={prefix:"form",formTemplate:null,addText:"add another",deleteText:"remove",addContainerClass:null,deleteContainerClass:null,addCssClass:"add-row",deleteCssClass:"delete-row",formCssClass:"dynamic-form",extraClasses:[],keepFieldValues:"",added:null,removed:null,hideLastAddForm:!1}}(jQuery);